# 7기 회고

# 포스팅 내용
* [Spring Batch HTTP Page Item Reader](https://github.com/cheese10yun/posting-review/blob/master/yun/2022-04-17-batch-http-page-item-reader.md)
* [Elasticsearch APM - 분산트랜잭션 트레이싱](https://github.com/cheese10yun/posting-review/blob/master/yun/2022-03-19-Elasticsearch-APM%20.md)
* [HTTP Client 책임 분리하기](https://github.com/cheese10yun/posting-review/blob/master/yun/2022-03-01-http-client.md)
* [MSA 환경에서 Error Response](https://github.com/cheese10yun/posting-review/blob/master/yun/2022-02-17-msa-error-response.md)

의도하지는 않았지만 모든 포스팅의 주제가 분산 환경에 대한 것을 작성했다. 최근에 서비스를 계속 분리시키고 크기를 작게 유지하는 방향을 지향하고 있어서 자연스럽게 관련 주제로 포스팅을 한 것으로 보인다.

OOP, DDD, 레이어드 아키텍트, 헥사곤 아키텍트 등등 유지 보수하기 좋고 확장 가능한 구조에 대해서 지금까지도 많은 고민과 학습을 진행했었다. 그것들을 학습할 때마다 그 아키텍트가 주장하는 것에 대해서 가이드를 만들고 그 규칙에 대해서 팀원들을 설득하려는 작업들을 많이 했었다.

지금은 그런 작업을 거의 하지 않는다. 다양한 회사를 다녀보면서 좋은 시니어들은 나름의 공통부분은 특정 가치에 매몰되지 않는다. 시중에 와있는 대부분의 용어나, 아키텍트, 테스트 기법, 등등등 그런것들은 마케팅 용어로써도 소비된다고 생각한다.

## 그래서 뭐가 중요한데
그래서 뭐가 중요할까? 사실 이 부분에 대해서 생각은 계속 바뀌었기 때문에 앞으로도 바뀔 가능성이 아주 높다. 그래도 가장 중요하다고 생각하는 부분은 서비스의 크기를 작게 유지하고 특정 서비스의 크기가 커지면 분리해야 한다.

## 하지만 다 다르다.
위에서도 크기를 작에 유지해야 한다고 말했다. 하지만 저마다 생각하는 크기는 다 다르다. 하고 싶은 말은 크기가 아니라 결국 생각하는 바가, 본인의 관점은 조금씩 다르고 때에 따라는 크게 다르다.

최근에 테스트 커버리지에 대한 논의를 한 적이 있다. 우리는 테스트 커버리지 퍼센트에 대한 부분은 크게 다루지 않았다. 우리가 생각하는 테스트 작성에 얼라인의 대한 부분에 대한 논의를 했다. 통합 테스트는 어디까지 통합 테스트고 정의하고 서비스 테스트는 어떻게 하고 어느 부분에 대해 mock을 사용하고 또 단위 테스트는 어떻게 할 것인가? 등등 결국 테스트에 대해서 이야기했지만 실제 구현 코드 레벨까지 올라가게 된다.

서론이 길었지만 결국 서로가 바라보는 관점이 다 다르다. 그 관점에 대해서 모두가 합의할 수 있는 선을 정하고 그 정책에 의해서 테스트 코드에서 또 더 들어가서 구현 코드에 대한 정책까지 정해야 한다. 나는 테스트 커버리지에 대한 부분은 크게 중요하게 생각하지 않는다. 위에서 말했던 어떤 부분을 어떻게 바라보고 어떻게 테스트할 것인가가 훨씬 더 중요하다고 본다.

물론 이 부분도 서론이다. 결론을 간결하게 작성할 수 있을 정도로 좋은 문장을 못 만들어서 서론을 길게 말을 했다. 결국 하고 싶은 부분은 서로의 생각을 서로의 철학을 나누고 그거를 도출하여 우리 팀에 부여하는 것이 항상 먼저라는 것이다.

OOP, DDD, 레이어드 아키텍트, 헥사곤 아키텍트는 그러한 부분을 쉽게 설명하기 위한 용어에 불과한다고 생각한다.

## 하고 싶은말
결국 하고 좋은 설계를 하기 위해서는 구성원들 간에 지속적으로 이야기를 나눠야 한다. 그것이 절대 OOP, DDD, 레이어드 아키텍트, 헥사곤 아키텍트 같은 용어와 개념에만 집착하는 방식의 논의는 좋지 않다. 그러니까 팀원들과 많이 싸우고 쟁취해야 좋은 설계가 나온다.