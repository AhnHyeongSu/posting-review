# 정규표현식 (Regular Expression)
- [정규표현식 (Regular Expression)](#정규표현식-regular-expression)
  - [정규표현식?](#정규표현식)
  - [컴파일](#컴파일)
    - [1. 정규표현식 리터럴](#1-정규표현식-리터럴)
    - [2. 정규표현식 객체 생성자](#2-정규표현식-객체-생성자)
  - [실행](#실행)
    - [1. RegExp에서 실행](#1-regexp에서-실행)
      - [RegExp.exec()](#regexpexec)
      - [RegExp.test()](#regexptest)
    - [2. String에서 실행](#2-string에서-실행)
      - [String.match()](#stringmatch)
      - [String.search()](#stringsearch)
      - [String.replace()](#stringreplace)
  - [패턴](#패턴)
    - [문장의 시작과 끝](#문장의-시작과-끝)
    - [수량 한정자](#수량-한정자)
    - [그룹과 범위](#그룹과-범위)
    - [문자](#문자)
    - [패턴 활용](#패턴-활용)
  - [플래그](#플래그)
- [참고자료](#참고자료)

## 정규표현식?
문자열에 나타나는 특정 문자 조합과 대응시키기 위해 사용되는 패턴

- `컴파일(compile)` : 패턴을 찾는 것
- `실행(execution)` : 대상에 대한 작업을 구체적으로 하는 것

## 컴파일
컴파일은 검출하고자 하는 패턴을 만드는 일이다. 객체를 만드는 방법은 정규표현식 리터럴, 정규표현식 객체 생성자 두 가지가 있다.

### 1. 정규표현식 리터럴
```js
var pattern = /a/; 
```
리터럴은 `/(슬래시)`와 `/(슬래시)`로 감싸야 하며 **`'(따옴표)`를 사용하지 않아야 한다.**

- 리터럴은 **스크립트가 불러올 때 컴파일**된다. 
- 정규표현식이 변하지 않을 경우 상수로 사용해서 성능을 향상시킬 수 있다.

### 2. 정규표현식 객체 생성자
```js
var pattern = new RegExp('a');
```
인자는 `/`로 감싸지 않으나 `'` or `"` 따옴표를 사용한다.

- 생성자 함수를 사용하면 정규표현식이 **실행 시점에 컴파일**된다. 
- 정규표현식의 패턴이 변경될 수 있는 경우 사용한다.

## 실행
실행은 대상에 대한 구체적인 작업을 수행한다. 작업에는 **검색, 판별, 치환**이 있다. 

- 검색 : 패턴에 해당되는 문자열을 찾는다.
- 판별 : 패턴에 해당되는 문자열이 있는지 검사한다.
- 치환 : 패턴에 해당되는 문자열을 다른 문자열로 치환한다.

### 1. RegExp에서 실행
#### RegExp.exec()
`exec()`는 인자 안에 패턴에 해당되는 문자열을 찾아서 배열로 리턴한다. 패턴에 해당되는 문자열이 없을 경우 null을 리턴한다. 
```js
var pattern = /a/; 
pattern.exec('abcde'); // ["a"]
```
```js
var pattern = /a./; // a 다음에 1개의 문자가 와야 한다.
patten.exec('abcde'); // ["ab"]
pattern.exec('bcdef') // null, 패턴에 일치하는게 없기 때문에
```

#### RegExp.test()
`test()`는 인자 안에 패턴에 해당되는 문자열이 있으면 true, 없으면 false를 리턴한다. 
```js
var pattern = /a./; 
patten.test('abcde'); // true
patten.test('bcdef'); // false
```

### 2. String에서 실행
#### String.match()
`match()`는 패턴에 해당되는 문자열을 찾아서 배열로 리턴한다. 패턴에 해당되는 문자열이 없을 경우 null을 리턴한다.
```js
var pattern = /a/; 
'abcdef'.match(pattern); // ["a"];
'bcdefg'.match(pattern); // null
```

#### String.search()
`search()`는 패턴에 해당되는 문자열이 있는지 검사하는 메서드다. 해당하는 부분의 인덱스를 리턴한다. 패턴에 해당하는 문자열이 없으면 -1을 리턴한다.

#### String.replace()
문자열에서 패턴에 해당되는 문자열을 찾아서 다른 문자열로 치환하는 메서드다. 
```js
var pattern = /a/; 
'abcdef'.replace(pattern, 'A'); // "Abcdef"
```

## 패턴

### 문장의 시작과 끝
|   문자  | 의미      |
|    :---:  |---        |
|    `^`    |  문장의 시작|
|    `$`    |  문장의 끝|

### 수량 한정자
|   문자  | 의미      |
|    :---:  |---        |
|    `?`    |  앞의 표현식이 0 또는 1회 => `{0,1}`|
|    `*`    |  앞의 표현식이 0회 이상 연속으로 반복 => `{0,}`|
|    `+`    |  앞의 표현식이 1회 이상 연속으로 반복 => `{1,}`|
| `{n}` | n번 반복, n은 양의 정수여야 한다|
| `{min,}` | 최소|
| `{min, max}` | 최대. min <= max를 만족해야 한다. |

### 그룹과 범위
| 문자    | 의미  |
|   :---:   |---|
|  `|`    |  또는 |
|  `()`    |  그룹 |
|  `[]`    |  문자셋 |
|  `[^]`    |  부정 문자셋 |
|  `(?:)`    |  찾지만 기억하지는 않음 |

### 문자
| 문자    | 의미  |
|   :---:   |---|
|  `\`    |  특수 문자가 아닌 문자 |
|  `.`    |  어떤 글자(줄바꿈 문자 제외) |
|  `\d`    | digit 숫자 => `[0-9]` |
|  `\D`    | digit 숫자 아님 => `[^0-9]` |
|  `\w`    | word 문자 => `[A-Za-z0-9_]`|
|  `\W`    | word 문자 아님 => `[^A-Za-z0-9_]` |
|  `\s`    | 스페이스, 탭, 폼피드, 줄 바꿈 문자등을 포함한 하나의 공백 문자|
|  `\S`    | 공백 문자가 아닌 하나의 문자 |
| `\t` | 탭문자 |
| `\f` | 폼피드 문자 |
| `\n` | 줄 바꿈 문자 |


### 패턴 활용

```js
var pattern = /\$/; // 문자 '$'가 있는 패턴
pattern.exec('$12$ \-\ $25$'); // ["$"], index : 0
```

```js
var pattern = /^\$/;  // 문장의 시작에 문자 '$'가 있는 패턴
pattern.exec('$12$ \-\ $25$'); // ["$"] , index : 0
```

```js
var pattern = /\$$/;  // 문장의 끝에 문자 '$'가 있는 패턴
pattern.exec('$12$ \-\ $25$'); // ["$"], index : 10
```

> **※ escape?**
> 정규표현식에서 원래 `$`는 `문장의 끝`이라는 역할을 가지고 있다. 하지만 **앞에 `\`가 오면 기존 역할에서 탈출(escape)한 단순한 문자 `$`를 의미하는 것**으로 `\$`를 escape 문자라고 한다.
## 플래그
정규표현식 패턴을 만들 때 옵션을 설정할 수 있다.

| 플래그  | 설명  |
|---|---|
| `g`  | 전역 검색  |
| `i`  | 대소문자 구분 없는 검색  |
| `m`  | 다중행(multi-line) 검색  |
| `s`  | .에 개행 문자도 매칭(ES2018)  |
| `u`  | 유니코드; 패턴을 유니코드 코드 포인트의 나열로 취급한다.  |
| `y`  | "sticky" 검색을 수행. 문자열의 현재 위치부터 검색을 수행한다  |


# 참고자료
- [생활코딩 - 정규표현식](https://opentutorials.org/course/743/6580)
- [생활코딩 - 정규표현식 패턴들](https://opentutorials.org/course/909/5143)
- [MDN - 정규표현식](https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Regular_Expressions)
- [드림코딩 by 엘리 - 정규표현식, 더이상 미루지 말자](https://www.youtube.com/watch?v=t3M6toIflyQ)
